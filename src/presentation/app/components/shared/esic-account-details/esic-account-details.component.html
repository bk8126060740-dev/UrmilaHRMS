<div class="borad-body p-4">
    <form [formGroup]="EsicForm" #formDirective="ngForm">
        <div class="row gy-4">

            <div class="col-12">
                <div class="row  gy-2">
                    <div class="col-xxl-4 col-lg-6 col-12 gy-3">
                        <mat-form-field appearance="outline" class="w-100 custom-mat-form-field">
                            <mat-label>ESIC Number</mat-label>
                            <input formControlName="esicnumber" matInput name="name" maxlength="17" required
                                autocomplete="off" (input)="onEsicNumberChange($event)">
                        </mat-form-field>
                    </div>

                    <div class="col-xxl-4 col-lg-6 col-12 gy-3">
                        <mat-form-field appearance="outline" class="w-100 custom-mat-form-field">
                            <mat-label>ESIC Registration Date</mat-label>
                            <input matInput (dateChange)="onDateChange($event)" [matDatepicker]="date"
                                formControlName="esicRegistrationDate" name="startDate" [max]="today" />
                            <mat-datepicker-toggle matIconSuffix [for]="date"></mat-datepicker-toggle>
                            <mat-datepicker #date></mat-datepicker>
                        </mat-form-field>
                    </div>

                    <!-- <div class="col-12">

                        <div class="input-group choose-file choose-single dragdrop-file d-flex flex-wrap w-100 flex-wrap justify-content-center"
                            *ngIf="!selectedFile" appDrag (files)="filesDropped($event)"
                            (fileSizeError)="handleFileSizeErrors($event)" (click)="triggerProfileFileInput(fileInput)">
                            <div for="dropzone-file"
                                class="flex flex-col items-center justify-center w-full h-36 border-2 border-gray-300 border-dashed rounded-lg cursor-pointer bg-gray-50 dark:hover:bg-gray-800 dark:bg-gray-700 hover:bg-gray-100 dark:border-gray-600 dark:hover:border-gray-500 dark:hover:bg-gray-600">
                                <input id="dropzone-file" type="file" #fileInput style="display: none"
                                    accept=".jpg,.jpeg,.png,.pdf,.doc,.docx" (change)="onDocumentFileSelected($event)"
                                    class="hidden" />
                                <div class="browse-icn w-100 text-center mb-2">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em"
                                        viewBox="0 0 56 56">
                                        <path fill="currentColor"
                                            d="M27.944 20.058c.443 0 .81.133 1.221.502l8.06 7.772c.352.351.563.726.563 1.242c0 .96-.703 1.64-1.687 1.64c-.47 0-.961-.187-1.29-.562L31.25 26.88l-1.594-1.664l.164 3.492V46.77c0 .985-.867 1.805-1.875 1.805c-1.007 0-1.851-.82-1.851-1.805V28.707l.14-3.492l-1.593 1.664l-3.54 3.773a1.7 1.7 0 0 1-1.265.563c-.984 0-1.71-.68-1.71-1.641c0-.516.187-.89.538-1.242l7.922-7.64c.469-.47.89-.634 1.36-.634m4.737-16.287c8.507 0 15.403 6.896 15.403 15.402q0 .726-.066 1.435c4.303 1.014 7.506 4.88 7.506 9.492c0 5.386-4.366 9.752-9.752 9.752h-11.25v-3.75h11.248a6 6 0 0 0 6.002-6.002a6.006 6.006 0 0 0-4.617-5.842l-3.174-.748l.3-3.247q.05-.54.05-1.09c0-6.435-5.216-11.652-11.652-11.652a11.64 11.64 0 0 0-9.777 5.31l-1.525 2.344l-2.681-.792a4.994 4.994 0 0 0-6.408 4.574l-.004.293l.093 3.15l-2.997.691a6.594 6.594 0 0 0-5.1 6.422a6.59 6.59 0 0 0 6.59 6.59h10.652v3.75H10.872c-5.71 0-10.34-4.63-10.34-10.34c0-4.908 3.42-9.018 8.007-10.076l-.004-.264a8.744 8.744 0 0 1 11.225-8.387c2.747-4.223 7.508-7.015 12.921-7.015" />
                                    </svg>
                                </div>
                                <p class="w-100 text-center mb-1">Drag & Drop Upload File</p>
                                <div>
                                    <p class="w-100 text-center mt-1 mb-2 ">Or</p>
                                </div>
                                <div class="w-100 text-center">
                                    <button class="browse-btn">Browse File</button>
                                </div>
                            </div>
                        </div>

                        <div class="file-info mt-0" *ngIf="selectedFile">
                            <i *ngIf="selectedFile?.name?.endsWith('.pdf')" class="fas fa-file-pdf me-2"
                                style="color: red;"></i>
                            <i *ngIf="selectedFile?.name?.endsWith('.doc') || selectedFile?.name?.endsWith('.docx')"
                                class="fas fa-file-word me-2" style="color: blue;"></i>
                            <i *ngIf="selectedFile?.name?.endsWith('.jpg') || selectedFile?.name?.endsWith('.jpeg')"
                                class="fas fa-file-image me-2" style="color: orange;"></i>
                            <i *ngIf="selectedFile?.name?.endsWith('.png')" class="fas fa-file-image me-2"
                                style="color: green;"></i>
                            <span class="file-name">{{ selectedFile?.name }}</span>
                            <button type="button" class="btn btn-close" (click)="removeFile()"></button>
                        </div>

                    </div> -->


                    <div class="col-xxl-4 col-lg-6 col-12 gy-3">
                        <div class="input-group choose-file">
                            <span class="input-group-text mac-lbl lbl-form"
                                style="padding-left: 18px !important; padding-right: 18px !important;">ESIC</span>
                            <div class="col">
                                <ng-container *ngIf="selectedFile">
                                    <i *ngIf="selectedFile?.name?.includes('.pdf')" class="fas fa-file-pdf icon"
                                        style="color: red"></i>
                                    <i *ngIf="selectedFile?.name?.includes('.doc') || selectedFile?.name?.includes('.docx')"
                                        class="fas fa-file-word icon" style="color: blue"></i>
                                    <i *ngIf="selectedFile?.name?.includes('.png') || selectedFile?.name?.includes('.jpg') || selectedFile?.name?.includes('.jpeg')"
                                        class="fas fa-file-image icon" style="color: green"></i>
                                </ng-container>

                                <span class="file-label">
                                    {{ selectedFile ? selectedFile.name : 'Document Upload' }}
                                </span>
                                <input type="file" class="form-control" id="inputFile"
                                    (change)="onDocumentFileSelected($event)" accept=".pdf, .doc, .docx" />
                            </div>
                            <div class="file-upload-action d-flex">
                                <div class="close-doc" *ngIf="selectedFile" (click)="removeFile()">
                                    <i class="fa-regular fa-circle-xmark"></i>
                                </div>
                                <div class="download-doc" *ngIf="EsicDetail?.uploadDocument">
                                    <i class="fa-solid fa-download"
                                        (click)="getDownloadFile(EsicDetail.uploadDocument)"></i>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>
            </div>

        </div>

    </form>
</div>