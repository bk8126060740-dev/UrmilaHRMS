<div class="board-body p-4">
    <!-- <P>PROFILE</P> {{profilePicUrl}}
    <BR>
   <P>BASE</P> {{baseUrl}} -->

    <form [formGroup]="basicDetailsForm">
        <div class="row gy-2">
            <!-- Profile Picture -->
            <div class="col-xxl-4 col-lg-6 col-12">
                <div class="row justify-content-center profile-input gy-2 gy-md-0">
                    <div class="col-12 col-md-auto col-md-3 paddind-remove" *ngIf="isEmployed">
                        <div class="profile-info cursor position-relative" [ngClass]="{'profile-error': hasError}"
                            (click)="triggerProfileFileInput(fileInput)">
                            <!-- <div class="pro-pic mb-2">
                                <svg *ngIf="profilePicUrl == baseUrl" xmlns="http://www.w3.org/2000/svg" width="30px"
                                    height="30px" viewBox="0 0 24 24">
                                    <path fill="black"
                                        d="M21 15v3h3v2h-3v3h-2v-3h-3v-2h3v-3zm.008-12c.548 0 .992.445.992.993v9.349A6 6 0 0 0 20 13V5H4l.001 14l9.292-9.293a1 1 0 0 1 1.32-.084l.094.085l3.545 3.55a6.003 6.003 0 0 0-3.91 7.743L2.992 21A.993.993 0 0 1 2 20.007V3.993A1 1 0 0 1 2.992 3zM8 7a2 2 0 1 1 0 4a2 2 0 0 1 0-4" />
                                </svg>
                                <img *ngIf="profilePicUrl != baseUrl" [src]="profilePicUrl" alt="Profile Pic"
                                    class="profile-pic" />
                            </div> -->
                            <div class="pro-pic mb-1">
                                <svg *ngIf="!profilePicUrl" xmlns="http://www.w3.org/2000/svg" width="30px"
                                    height="30px" viewBox="0 0 24 24">
                                    <path fill="black"
                                        d="M21 15v3h3v2h-3v3h-2v-3h-3v-2h3v-3zm.008-12c.548 0 .992.445.992.993v9.349A6 6 0 0 0 20 13V5H4l.001 14l9.292-9.293a1 1 0 0 1 1.32-.084l.094.085l3.545 3.55a6.003 6.003 0 0 0-3.91 7.743L2.992 21A.993.993 0 0 1 2 20.007V3.993A1 1 0 0 1 2.992 3zM8 7a2 2 0 1 1 0 4a2 2 0 0 1 0-4" />
                                </svg>
                                <img *ngIf="profilePicUrl" [src]="profilePicUrl" alt="Profile Pic" class="profile-pic"
                                    (error)="profilePicUrl=null" />
                            </div>
                            <!-- Close icon for removing profile pic -->
                            <div *ngIf="profilePicUrl" class="close-pdf-icn" (click)="removeProfilePic()">
                                <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24">
                                    <path fill="currentColor"
                                        d="M18.3 5.71a.996.996 0 0 0-1.41 0L12 10.59L7.11 5.7A.996.996 0 1 0 5.7 7.11L10.59 12L5.7 16.89a.996.996 0 1 0 1.41 1.41L12 13.41l4.89 4.89a.996.996 0 1 0 1.41-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4" />
                                </svg>
                            </div>
                            <p *ngIf="!profilePicUrl">Profile Pic*</p>
                            <input type="file" (change)="onFileChange($event)" #fileInput style="display: none;"
                                accept=".jpg, .jpeg, .png" />
                        </div>
                    </div>
                    <div class="col-12 col-md-auto col-md-3 paddind-remove " *ngIf="!isEmployed">
                        <div class="profile-info cursor position-relative" [ngClass]="{'profile-error': hasError}"
                            *ngIf="profilePicUrl != baseUrl" mat-raised-button matTooltip="Add Resume"
                            [matTooltipPosition]="'above'" [matTooltipShowDelay]="showDelay.value"
                            [matTooltipHideDelay]="hideDelay.value" aria-label="Add Resume">
                            <div class="pdf-icn">
                                <svg xmlns="http://www.w3.org/2000/svg" width="32px" height="32px" viewBox="0 0 24 24">
                                    <g fill="none" stroke="currentColor">
                                        <path
                                            d="m11.79 10.673l-.058.265a9.8 9.8 0 0 1-1.368 3.286m1.425-3.551l.467-2.136c.162-.738-.556-1.316-1.11-.894c-.297.226-.407.665-.26 1.037l.246.617q.286.719.657 1.376Zm0 0a10.4 10.4 0 0 0 2.064 2.596m0 0l2.255-.286c.632-.08 1.09.671.806 1.32c-.207.474-.721.649-1.121.382l-.851-.568a9.4 9.4 0 0 1-1.089-.848Zm0 0l-.095.013a12.3 12.3 0 0 0-3.394.942m0 0q-.626.274-1.228.618l-1.706.975c-.475.271-.577.994-.202 1.423c.332.379.88.338 1.165-.087l1.91-2.837z" />
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5"
                                            d="M7.792 21.25h8.416a3.5 3.5 0 0 0 3.5-3.5v-5.53a3.5 3.5 0 0 0-1.024-2.475l-5.969-5.97A3.5 3.5 0 0 0 10.24 2.75H7.792a3.5 3.5 0 0 0-3.5 3.5v11.5a3.5 3.5 0 0 0 3.5 3.5" />
                                    </g>
                                </svg>
                            </div>
                            <div class="close-pdf-icn" (click)="removeFile()">
                                <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24">
                                    <path fill="currentColor"
                                        d="M18.3 5.71a.996.996 0 0 0-1.41 0L12 10.59L7.11 5.7A.996.996 0 1 0 5.7 7.11L10.59 12L5.7 16.89a.996.996 0 1 0 1.41 1.41L12 13.41l4.89 4.89a.996.996 0 1 0 1.41-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4" />
                                </svg>
                            </div>
                        </div>

                        <div class="profile-info cursor position-relative" [ngClass]="{'profile-error': hasError}"
                            *ngIf="profilePicUrl == baseUrl" (click)="triggerProfileFileInput(fileInput)">
                            <div class="pro-pic mb-2 position-relative">
                                <div>
                                    <svg data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 128 128">
                                        <path
                                            d="M30.13 51.31h20a1.75 1.75 0 0 0 1.75-1.75v-5.12a11.067 11.067 0 0 0-4.4-8.832 9.977 9.977 0 1 0-14.713 0 11.08 11.08 0 0 0-4.387 8.832v5.12a1.75 1.75 0 0 0 1.75 1.75zm10-28.894a6.477 6.477 0 1 1-6.477 6.477 6.485 6.485 0 0 1 6.473-6.476zM31.88 44.44a7.576 7.576 0 0 1 3.87-6.594 9.857 9.857 0 0 0 8.754 0 7.56 7.56 0 0 1 3.876 6.594v3.37h-16.5z" />
                                        <path
                                            d="M112.654 4.75H15.346A1.75 1.75 0 0 0 13.6 6.5v115a1.75 1.75 0 0 0 1.75 1.75h97.308a1.75 1.75 0 0 0 1.75-1.75V6.5a1.75 1.75 0 0 0-1.754-1.75zm-1.75 115H17.1V8.25h93.8z" />
                                        <path
                                            d="M26.346 65.75h75.308a1.75 1.75 0 1 0 0-3.5H26.346a1.75 1.75 0 0 0 0 3.5zM26.346 80.194h75.308a1.75 1.75 0 0 0 0-3.5H26.346a1.75 1.75 0 0 0 0 3.5zM26.346 109.083h75.308a1.75 1.75 0 0 0 0-3.5H26.346a1.75 1.75 0 0 0 0 3.5zM26.346 94.639h75.308a1.75 1.75 0 1 0 0-3.5H26.346a1.75 1.75 0 0 0 0 3.5zM64 22.417h37.654a1.75 1.75 0 0 0 0-3.5H64a1.75 1.75 0 0 0 0 3.5zM64 36.861h37.654a1.75 1.75 0 0 0 0-3.5H64a1.75 1.75 0 0 0 0 3.5zM64 51.306h37.654a1.75 1.75 0 0 0 0-3.5H64a1.75 1.75 0 0 0 0 3.5z" />
                                    </svg>
                                </div>
                            </div>
                            <p>Resume</p>
                            <input type="file" (change)="onFileChange($event)" #fileInput style="display: none;"
                                accept=".pdf, .docx" />
                        </div>
                    </div>
                    <div class="col-12 col-md col-md-9">
                        <!-- First Name -->
                        <mat-form-field appearance="outline" class="w-100 custom-mat-form-field">
                            <mat-label>First Name</mat-label>
                            <input matInput formControlName="firstName">
                        </mat-form-field>
                        <!-- Date of Birth -->
                        <mat-form-field appearance="outline" class="w-100 custom-mat-form-field mt-2">
                            <mat-label>Date Of Birth</mat-label>
                            <input matInput [matDatepicker]="dobPicker" formControlName="dateOfBirth" [max]="todayDate">
                            <mat-datepicker-toggle matIconSuffix [for]="dobPicker"></mat-datepicker-toggle>
                            <mat-datepicker #dobPicker></mat-datepicker>
                        </mat-form-field>
                    </div>
                </div>
            </div>



            <!-- Middle Name & Gender -->
            <div class="col-xxl-4 col-lg-6 col-12">
                <mat-form-field appearance="outline" class="w-100 custom-mat-form-field">
                    <mat-label>Father / Spouse Name</mat-label>
                    <input matInput formControlName="midName">
                </mat-form-field>

                <mat-form-field appearance="outline" class="w-100 custom-mat-form-field mt-2">
                    <mat-label>Gender</mat-label>
                    <mat-select name="gender" formControlName="gender" required>
                        <mat-option *ngFor="let item of genderList" [value]="item.id">{{item.name}}</mat-option>
                    </mat-select>
                </mat-form-field>
            </div>

            <!-- Last Name & Email -->
            <div class="col-xxl-4 col-lg-6 col-12">
                <mat-form-field appearance="outline" class="w-100 custom-mat-form-field">
                    <mat-label>Last Name</mat-label>
                    <input matInput formControlName="lastName">
                </mat-form-field>

                <mat-form-field appearance="outline" class="w-100 custom-mat-form-field mt-2">
                    <mat-label>Email</mat-label>
                    <input matInput formControlName="email" type="email" required>
                </mat-form-field>
            </div>

            <!-- Phone Number & Blood Group -->
            <div class="col-xxl-4 col-lg-6 col-12 mt-2 gy-2">
                <mat-form-field appearance="outline" class="w-100 custom-mat-form-field">
                    <mat-label>Phone Number</mat-label>
                    <input type="number" min="0" matInput formControlName="mobileNumber">
                </mat-form-field>
            </div>

            <div class="col-xxl-4 col-lg-6 col-12 mt-2 gy-2">
                <mat-form-field appearance="outline" class="w-100 custom-mat-form-field">
                    <mat-label>Blood Group</mat-label>
                    <mat-select name="bloodGroup" formControlName="bloodGroup">
                        <mat-option *ngFor="let item of bloodGroups" [value]="item">{{item}}</mat-option>
                    </mat-select>
                </mat-form-field>
            </div>

            <!-- Date of Joining -->
            <div class="col-xxl-4 col-lg-6 col-12 gy-2" *ngIf="isEmployed">
                <mat-form-field appearance="outline" class="w-100 custom-mat-form-field">
                    <mat-label>Date Of Joining</mat-label>
                    <input matInput [matDatepicker]="joinDatePicker" formControlName="doj">
                    <mat-datepicker-toggle matIconSuffix [for]="joinDatePicker"></mat-datepicker-toggle>
                    <mat-datepicker #joinDatePicker></mat-datepicker>
                </mat-form-field>
            </div>

            <!-- Tentetive of Joining -->
            <div class="col-xxl-4 col-lg-6 col-12 gy-2" *ngIf="!isEmployed">
                <mat-form-field appearance="outline" class="w-100 custom-mat-form-field">
                    <mat-label>Tentative Date of Joining</mat-label>
                    <input matInput [matDatepicker]="TjoinDatePicker" formControlName="TDOJ" [min]="todayDate">
                    <mat-datepicker-toggle matIconSuffix [for]="TjoinDatePicker"></mat-datepicker-toggle>
                    <mat-datepicker #TjoinDatePicker></mat-datepicker>
                </mat-form-field>
            </div>

            <!-- Reffral selction -->
            <div class="col-xxl-4 col-lg-6 col-12 gy-2" *ngIf="!isEmployed">
                <mat-form-field appearance="outline" class="w-100 custom-mat-form-field">
                    <mat-label>Referral by </mat-label>
                    <mat-select name="reffralby" formControlName="reffralby"
                        (selectionChange)="onReffralChange($event)">
                        <mat-option *ngFor="let item of reffralBy" [value]="item.Id">{{item.Name}}</mat-option>
                    </mat-select>
                </mat-form-field>
            </div>

            <!-- Employee if not select 2,3,4,5,6-->
            <div class="col-xxl-4 col-lg-6 col-12 gy-2" *ngIf="!isEmployed && isEmployeedReffral">
                <mat-form-field appearance="outline" class="w-100 custom-mat-form-field">
                    <mat-label>Select Employee</mat-label>
                    <mat-select formControlName="reffralempId">
                        <div class="search-field">
                            <input class="w-100" [(ngModel)]="searchText" [ngModelOptions]="{standalone: true}"
                                (ngModelChange)="onSearchChange($event)" aria-label="Search Employee"
                                placeholder="Search Employee" />
                        </div>
                        <mat-option *ngFor="let item of employeeDropdownData"
                            [value]="item.id">{{item.fullName}}</mat-option>

                        <mat-option *ngIf="employeeDropdownData.length === 0">No data found
                        </mat-option>
                    </mat-select>
                </mat-form-field>
            </div>


            <!-- <div class="col-xxl-4 col-lg-6 col-12 gy-2" *ngIf="isEmployed && userTypeId != 4 && userTypeId != 1">
                <mat-form-field appearance="outline" class="w-100 custom-mat-form-field">
                    <mat-label>BkcReg No.</mat-label>
                    <input matInput formControlName="bkcNo" [attr.disabled]="true">
                </mat-form-field>
            </div> -->

            <div class="col-xxl-4 col-lg-6 col-12 gy-3" *ngIf="isEmployed && userTypeId != 4 && userTypeId != 1">
                <div class="row gy-2">
                    <div class="col">
                        <mat-form-field appearance="outline" class="w-100 custom-mat-form-field">
                            <mat-label>BkcReg No.</mat-label>
                            <input matInput formControlName="bkcNo" [attr.disabled]="true">
                        </mat-form-field>
                    </div>
                    <!-- <div class="col" *ngIf="isEditMode">
                        <button class="btn btn-primary w-100" (click)="downloadOfferLatter()"
                            style="padding-top: 10px !important; padding-bottom: 10px !important;">
                            <p class="fs-14" style="white-space: nowrap;">Download Offer Latter</p>
                        </button>
                    </div> -->
                </div>
            </div>
            <div class="col-xxl-4 col-lg-6 col-12 gy-3" *ngIf="isEmployed  && userTypeId != 4 && userTypeId != 1">
                <div class="row">
                    <!-- <div class="col" *ngIf="isEditMode">
                        <button class="btn btn-primary w-100" (click)="openSalarySheetModel()"
                            style="padding-top: 10px !important; padding-bottom: 10px !important;">
                            <p class="fs-14" style="white-space: nowrap;">Download Salary Slip</p>
                        </button>
                    </div> -->
                    <div class="col">
                        <div class="example-section mt-0">
                            <mat-checkbox formControlName="isRailway">PF Exempted</mat-checkbox>
                        </div>
                    </div>
                    <!-- <div class="col-12 col-md-6 ">
                        <div class="example-section mt-0">
                            <mat-checkbox formControlName="isWages">Wages Rate</mat-checkbox>
                        </div>
                    </div> -->
                </div>
            </div>


        </div>
    </form>
</div>


<div bsModal #salarySlipModal="bs-modal" class="modal fade" tabindex="-1" aria-labelledby="exampleModalLabel"
    aria-hidden="true" [config]="{backdrop:'static'}">
    <div class="modal-dialog popup-design">
        <div class="modal-content px-4">
            <div class="modal-header popup-header justify-content-between d-flex">
                <h5 class="modal-title pt-2" id="exampleModalLabel">Download Salary Slip</h5>
                <span class="d-block" (click)="salarySlipModal?.hide()">
                    <icon-ModalClose></icon-ModalClose>
                </span>
            </div>
            <form [formGroup]="salarySlipForm">
                <div class="row align-items-center justify-content-center g-4 p-0 m-0">
                    <div class="col-12 p-0">
                        <div class="w-100 mb-2">
                            <mat-form-field appearance="outline" class="w-100 custom-mat-form-field">
                                <mat-label>Month</mat-label>
                                <mat-select formControlName="selectedMonth" name="month" required
                                    (selectionChange)="onMonthYearChange($event)">
                                    <mat-option *ngFor="let month of employeeBasicDetils.salarySlips; index as i"
                                        [value]="month.id">
                                        {{ month.month }} - {{month.year}}
                                    </mat-option>
                                </mat-select>
                            </mat-form-field>
                        </div>
                        <!-- <div class="w-100 mb-2">
                            <mat-form-field appearance="outline" class="w-100 custom-mat-form-field">
                                <mat-label>Year</mat-label>
                                <mat-select formControlName="year" name="year" required>
                                    <mat-option *ngFor="let year of employeeBasicDetils.salarySlips; index as i" [value]="year.year">
                                        {{ year.label }}
                                    </mat-option>
                                </mat-select>
                            </mat-form-field>
                        </div> -->
                    </div>

                    <div class="modal-footer popup-footer d-flex mt-2">
                        <button class="btn btn-save p-footerbtns" style="width: fit-content;"
                            (click)="onSalarySlipDownload()">Download</button>
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>